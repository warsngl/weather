import{c as f,o as c,a as l,b as r,w as _,t as d,F as m,p as v,d as g,r as p,e as y,f as $,g as C,h as x,n as b,i as w,j as L,k as S}from"./vendor.3b6e3253.js";const N=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function o(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=o(i);fetch(i.href,s)}};N();const k=f({state(){return{cities:[],city:{}}},mutations:{addCity(e,t){e.cities.push(t),localStorage.setItem("cities",JSON.stringify(e.cities))},removeCity(e,t){e.cities=e.cities.filter(o=>o!=t),localStorage.setItem("cities",JSON.stringify(e.cities))},setCity(e,t){let o=e.cities.find(a=>a.name==t.toLowerCase());o?e.city=o:e.city={name:t.toLowerCase(),isFavour:!1}},fillStore(e,t){e.cities=t}}});var F="https://warsngl.github.io/weather/assets/search.e4e3eb8a.svg";const O=e=>(v("data-v-718b79c0"),e=e(),g(),e),T={class:"flex"},I=["value"],J=O(()=>r("img",{class:"h-4/5",src:F},null,-1)),M=[J],j={class:"cities-list"},A={class:"flex flex-1 justify-center"},W={class:"mr-1 font-bold text-black"},B=["fill"];function D(e,t,o,a,i,s){return c(),l(m,null,[r("div",T,[r("input",{class:"pl-2 text-black",value:s.city.name,ref:"input",placeholder:"Enter your city...",onKeydown:t[0]||(t[0]=_(n=>s.city=e.$refs.input.value,["enter"]))},null,40,I),r("button",{onClick:t[1]||(t[1]=n=>s.city=e.$refs.input.value)},M)]),r("div",j,[r("span",{class:"up",onClick:t[2]||(t[2]=(...n)=>s.prevCity&&s.prevCity(...n))},"\u2190"),r("div",A,[r("div",W,d(s.city.name.toUpperCase()),1),(c(),l("svg",{class:"w-4 cursor-pointer",onClick:t[3]||(t[3]=n=>s.isFavour=!s.isFavour),viewBox:"0 0 512 512"},[r("path",{fill:s.isFavour?"red":"white",d:"M0 190.9V185.1C0 115.2 50.52 55.58 119.4 44.1C164.1 36.51 211.4 51.37 244 84.02L256 96L267.1 84.02C300.6 51.37 347 36.51 392.6 44.1C461.5 55.58 512 115.2 512 185.1V190.9C512 232.4 494.8 272.1 464.4 300.4L283.7 469.1C276.2 476.1 266.3 480 256 480C245.7 480 235.8 476.1 228.3 469.1L47.59 300.4C17.23 272.1 .0003 232.4 .0003 190.9L0 190.9z"},null,8,B)]))]),r("span",{class:"up",onClick:t[4]||(t[4]=(...n)=>s.nextCity&&s.nextCity(...n))},"\u2192")])],64)}var h=(e,t)=>{const o=e.__vccOpts||e;for(const[a,i]of t)o[a]=i;return o};const H={data:()=>({}),methods:{prevCity(){let e=this.cities.indexOf(this.city);e!=0&&(this.$store.state.city=this.$store.state.cities[e-1])},nextCity(){let e=this.cities.indexOf(this.city);e!=this.cities.length-1&&(this.$store.state.city=this.$store.state.cities[e+1])}},watch:{},computed:{cities(){return this.$store.state.cities},city:{get(){return this.$store.state.city},set(e){this.$store.commit("setCity",e)}},isFavour:{get(){return this.$store.state.city.isFavour},set(e){this.$store.state.city.isFavour=e,e?this.$store.commit("addCity",this.city):this.$store.commit("removeCity",this.city)}}},created(){let e=JSON.parse(localStorage.getItem("cities"));e?(this.$store.commit("fillStore",e),this.$store.commit("setCity",this.cities[0].name)):(this.$store.commit("setCity","\u0441\u044B\u043A\u0442\u044B\u0432\u043A\u0430\u0440"),this.$store.commit("addCity",this.city))},beforeUnmount(){localStorage.setItem("cities",JSON.stringify(this.cities))}};var V=h(H,[["render",D],["__scopeId","data-v-718b79c0"]]);const E={class:"flex flex-col items-center"};function K(e,t,o,a,i,s){const n=p("TheNavbar"),u=p("router-view");return c(),l("div",E,[y(n,{class:"mb-8"}),y(u)])}const P={data:()=>({}),components:{TheNavbar:V}};var q=h(P,[["render",K]]);const z={props:{},data:()=>({}),methods:{},computed:{}},R={class:"loader"};function U(e,t,o,a,i,s){return c(),l("div",R)}var G=h(z,[["render",U]]);const Q={key:0,class:"flex flex-col items-center justify-center"},X=["src"],Y={class:"text-2xl"},Z=r("br",null,null,-1),ee={class:"flex flex-wrap w-96 px-10"},te={class:"flex items-center mb-4 w-1/2"},se=["src"],ie={class:"pl-2"};function re(e,t,o,a,i,s){const n=p("TheLoading");return e.weather?(c(),l("div",Q,[e.isLoading?(c(),$(n,{key:0})):(c(),l("img",{key:1,src:"http://openweathermap.org/img/wn/"+e.icon+"@2x.png"},null,8,X)),r("p",null,d(e.day)+" | "+d(e.month)+" "+d(e.date),1),r("p",Y,d(e.temp)+"\xB0",1),r("p",null,d(e.description),1),Z,r("div",ee,[(c(!0),l(m,null,C(s.options,u=>(c(),l("div",te,[r("img",{class:"w-8 h-8",src:"https://warsngl.github.io/weather/assets/"+u.img,style:b(u.img=="navigation.png"?`transform:rotate(${e.deg}deg)`:null)},null,12,se),r("div",ie,[r("p",null,d(u.value),1),r("p",null,d(u.text),1)])]))),256))])])):x("",!0)}const oe={data:()=>({weather:{},description:"",temp:"",wind:"",humidity:"",pressure:"",clouds:"",deg:"",icon:"04n",day:"",month:"",date:"",isLoading:!1}),computed:{options(){return[{img:"navigation.png",value:`${this.wind} m/s`,text:"Wind"},{img:"rain.svg",value:`${this.clouds}%`,text:"Chance of Rain"},{img:"preassure.svg",value:`${this.pressure} mbar`,text:"Pressure"},{img:"humidity.svg",value:`${this.humidity}%`,text:"Humidity"}]},city(){return this.$store.state.city.name}},watch:{city(){this.getWeather()}},methods:{getWeather(){this.isLoading=!0,fetch(`https://cors-anywhere.herokuapp.com/http://api.openweathermap.org/geo/1.0/direct?q=${this.city}&limit=5&appid=a1fdf7cff87e36fa78044cf4606d87c0`).then(e=>e.json()).then(e=>{fetch(`https://cors-anywhere.herokuapp.com/https://api.openweathermap.org/data/2.5/weather?lat=${e[0].lat}&lon=${e[0].lon}&appid=a1fdf7cff87e36fa78044cf4606d87c0`).then(t=>t.json()).then(t=>{this.description=t.weather[0].description,this.temp=Math.floor(t.main.temp-270),this.clouds=t.clouds.all,this.wind=t.wind.speed,this.deg=t.wind.deg,this.icon=t.weather[0].icon,this.humidity=t.main.humidity,this.pressure=t.main.pressure,this.weather=t,this.isLoading=!1})})}},created(){let e=new Date;const t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=["January","February","March","April","May","June","July","August","September","October","November","December"];this.day=t[e.getDay()],this.date=e.getDate(),this.month=o[e.getMonth()],this.getWeather()},components:{TheLoading:G}};var ne=h(oe,[["render",re]]);const ae=[{path:"/",component:ne}],ce=w({history:L(),routes:ae});S(q).use(ce).use(k).mount("#app");
